{% extends 'base.html' %}
{% block title %} Home{% endblock title %} 
{% block body %}

<div class="container my-3">
    <h2>Add a User</h2>
    <form action="/" method="POST">
        <div class="mb-3">
          <label for="title" class="form-label">Name</label>
          <input type="text" class="form-control" name="name" id="name" aria-describedby="emailHelp"> 
        </div>
        <div class="mb-3">
          <label for="email" class="form-label">Email</label>
          <input type="email" class="form-control" name="email" id="email">
        </div>
        
        <button type="submit" class="btn btn-dark">Submit</button>
      </form>
</div>


<div class="container my-3">
    <h2>All</h2>
    
            {% if users|length == 0 %}
               
            <div class="alert alert-dark" role="alert">
                No user found. Add your first user now!
              </div>
                {% else %} 
                <table class="table">
                    <thead>
                      <tr>
                        <th scope="col">Id</th>
                        <th scope="col">Name</th>
                        <th scope="col">Email</th>
                        <th scope="col">Actions</th>
                      </tr>
                    </thead>
                    
                    <tbody>
          {% for user in users %}
          <tr>
            <th scope="row">{{loop.index}}</th>
            <td>{{user.name}}</td>
            <td>{{user.email}}</td>
            <td>
              <a href="/user/update/{{user.id}}" type="button" class="btn btn-outline-dark btn-sm mx-1">Update</button>
              <a href="/user/delete/{{user.id}}" type="button" class="btn btn-outline-dark btn-sm mx-1">Delete</button>
              <a href="/user/{{user.id}}" type="button" class="btn btn-outline-dark btn-sm mx-1">See Details</button> 
            
            </td>
          </tr>
          
          {% endfor %}
        </tbody>
        </table>
          {% endif %}
           
       
</div>




    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta2/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-b5kHyXgcpbZJO/tY9Ul7kGkf1S0CWuKcCD38l8YkeH8z8QjE0GmW1gYU5S9FOnJ0"
    crossorigin="anonymous"></script>

{% endblock body %}